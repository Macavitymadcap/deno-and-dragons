<button class="destructive" popovertarget="dice-roller" popoveraction="hide">
  &#10006;
</button>
<div class="dice-roller">
  <label for="dice-input">
    Dice
    <input type="text" id="dice-input" />
  </label>

  <label for="roll-type-select">
    Type
    <select id="roll-type-select" name="rollType">
      <option value="standard">Standard</option>
      <option value="advantage">Advantage</option>
      <option value="disadvantage">Disadvantage</option>
      <option value="critical">Critcal</option>
    </select>
  </label>

  <button
    _="on click 
        set dice to the (value of the previous <input/>)

        if dice is not empty
          set rollType to the (value of the previous <select/>)
          set roll to roll(dice, rollType)
          make a <span.roll/> called rollSpan

          make a <span.total/> called totalSpan
          set totalSpan's textContent to roll.total
          put totalSpan at the end of rollSpan

          if rollType is 'advantage' or rollType is 'disadvantage'
            make a <span.vantage/> called vantageSpan
            set vantageSpan's textContent to `[${roll.rolls.join(' / ')}]`
            put vantageSpan at the end of rollSpan
          else
            make a <span.rolls/> called rollsSpan
            set rollsSpan's textContent to `(${roll.rolls.join(' + ')})`
            put rollsSpan at the end of rollSpan
          end

          if roll.modifier is not undefined
            make a <span.modifier/> called modifierSpan
            set modifierSpan's textContent to `${roll.operator} ${roll.modifier}`
            put modifierSpan at the end of rollSpan
          end

          set (the next <output/>)'s innerHTML to rollSpan.outerHTML
        end"
  >
    &#127922;
  </button>
</div>
<label for="roll-output">
  Result:
  <output id="roll-output"></output>
</label>
