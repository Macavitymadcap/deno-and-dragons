<div class="flex-column">
    <div class="flex-row">
        <label for="wisdom-score">
            Score
            <span class="chip">
              <button title="Decrement" _="on click 
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #wisdom-score.textContent >= 0 
                        decrement #wisdom-score.textContent
                        set score to (#wisdom-score.textContent) as an Int
                        set modifier to Math.floor((score - 10) / 2)
      
                        if modifier is greater than or equal to 0 
                          set #wisdom-modifier.textContent to `+${modifier}`
                          set #wisdom-save.textContent to `+${modifier}`
      
                          if (#wisdom-save-proficiency.checked)
                            set #wisdom-save.textContent to `+${modifier + proficiency}`
                          end

                          set #animal-handling-check.textContent to `+${modifier}`
                          if (#animal-handling-proficiency.checked)
                            set #animal-handling-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#animal-handling-proficiency.checked) and (#animal-handling-expertise.checked)
                            set #animal-handling-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #insight-check.textContent to `+${modifier}`
                          if (#insight-proficiency.checked)
                            set #insight-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#insight-proficiency.checked) and (#insight-expertise.checked)
                            set #insight-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #medicine-check.textContent to `+${modifier}`
                          if (#medicine-proficiency.checked)
                            set #medicine-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#medicine-proficiency.checked) and (#medicine-expertise.checked)
                            set #medicine-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #perception-check.textContent to `+${modifier}`
                          if (#perception-proficiency.checked)
                            set #perception-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#perception-proficiency.checked) and (#perception-expertise.checked)
                            set #perception-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #survival-check.textContent to `+${modifier}`
                          if (#survival-proficiency.checked)
                            set #survival-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#survival-proficiency.checked) and (#survival-expertise.checked)
                            set #survival-check.textContent to `+${modifier + (proficiency * 2)}`
                          end
                        end
      
                        if modifier is less than 0 
                          set #wisdom-modifier.textContent to modifier
                          set #wisdom-save.textContent to modifier
      
                          if (#wisdom-save-proficiency.checked)
                            set #wisdom-save.textContent to modifier + proficiency
                          end

                          set #animal-handling-check.textContent to modifier
                          if (#animal-handling-proficiency.checked)
                            set #animal-handling-check.textContent to modifier + proficiency
                          end
                          if (#animal-handling-proficiency.checked) and (#animal-handling-expertise.checked)
                            set #animal-handling-check.textContent to modifier + (proficiency * 2)
                          end

                          set #insight-check.textContent to modifier
                          if (#insight-proficiency.checked)
                            set #insight-check.textContent to modifier + proficiency
                          end
                          if (#insight-proficiency.checked) and (#insight-expertise.checked)
                            set #insight-check.textContent to modifier + (proficiency * 2)
                          end

                          set #medicine-check.textContent to modifier
                          if (#medicine-proficiency.checked)
                            set #medicine-check.textContent to modifier + proficiency
                          end
                          if (#medicine-proficiency.checked) and (#medicine-expertise.checked)
                            set #medicine-check.textContent to modifier + (proficiency * 2)
                          end

                          set #perception-check.textContent to modifier
                          if (#perception-proficiency.checked)
                            set #perception-check.textContent to modifier + proficiency
                          end
                          if (#perception-proficiency.checked) and (#perception-expertise.checked)
                            set #perception-check.textContent to modifier + (proficiency * 2)
                          end

                          set #survival-check.textContent to modifier
                          if (#survival-proficiency.checked)
                            set #survival-check.textContent to modifier + proficiency
                          end
                          if (#survival-proficiency.checked) and (#survival-expertise.checked)
                            set #survival-check.textContent to modifier + (proficiency * 2)
                          end
                        end
                      end">
                &#8722;
              </button>
              <output id="wisdom-score" name="wisdom-score">10</output>
              <button title="Increment" _="on click 
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #wisdom-score.textContent < 30 
                        increment #wisdom-score.textContent
                        set score to (#wisdom-score.textContent) as an Int
                        set modifier to Math.floor((score - 10) / 2)
      
                        if modifier is greater than or equal to 0 
                          set #wisdom-modifier.textContent to `+${modifier}`
                          set #wisdom-save.textContent to `+${modifier}`
      
                          if (#wisdom-save-proficiency.checked)
                            set #wisdom-save.textContent to `+${modifier + proficiency}`
                          end

                          set #animal-handling-check.textContent to `+${modifier}`
                          if (#animal-handling-proficiency.checked)
                            set #animal-handling-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#animal-handling-proficiency.checked) and (#animal-handling-expertise.checked)
                            set #animal-handling-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #insight-check.textContent to `+${modifier}`
                          if (#insight-proficiency.checked)
                            set #insight-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#insight-proficiency.checked) and (#insight-expertise.checked)
                            set #insight-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #medicine-check.textContent to `+${modifier}`
                          if (#medicine-proficiency.checked)
                            set #medicine-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#medicine-proficiency.checked) and (#medicine-expertise.checked)
                            set #medicine-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #perception-check.textContent to `+${modifier}`
                          if (#perception-proficiency.checked)
                            set #perception-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#perception-proficiency.checked) and (#perception-expertise.checked)
                            set #perception-check.textContent to `+${modifier + (proficiency * 2)}`
                          end

                          set #survival-check.textContent to `+${modifier}`
                          if (#survival-proficiency.checked)
                            set #survival-check.textContent to `+${modifier + proficiency}`
                          end
                          if (#survival-proficiency.checked) and (#survival-expertise.checked)
                            set #survival-check.textContent to `+${modifier + (proficiency * 2)}`
                          end
                        end
      
                        if modifier is less than 0 
                          set #wisdom-modifier.textContent to modifier
                          set #wisdom-save.textContent to modifier
      
                          if (#wisdom-save-proficiency.checked)
                            set #wisdom-save.textContent to modifier + proficiency
                          end

                          set #animal-handling-check.textContent to modifier
                          if (#animal-handling-proficiency.checked)
                            set #animal-handling-check.textContent to modifier + proficiency
                          end
                          if (#animal-handling-proficiency.checked) and (#animal-handling-expertise.checked)
                            set #animal-handling-check.textContent to modifier + (proficiency * 2)
                          end

                          set #insight-check.textContent to modifier
                          if (#insight-proficiency.checked)
                            set #insight-check.textContent to modifier + proficiency
                          end
                          if (#insight-proficiency.checked) and (#insight-expertise.checked)
                            set #insight-check.textContent to modifier + (proficiency * 2)
                          end

                          set #medicine-check.textContent to modifier
                          if (#medicine-proficiency.checked)
                            set #medicine-check.textContent to modifier + proficiency
                          end
                          if (#medicine-proficiency.checked) and (#medicine-expertise.checked)
                            set #medicine-check.textContent to modifier + (proficiency * 2)
                          end

                          set #perception-check.textContent to modifier
                          if (#perception-proficiency.checked)
                            set #perception-check.textContent to modifier + proficiency
                          end
                          if (#perception-proficiency.checked) and (#perception-expertise.checked)
                            set #perception-check.textContent to modifier + (proficiency * 2)
                          end

                          set #survival-check.textContent to modifier
                          if (#survival-proficiency.checked)
                            set #survival-check.textContent to modifier + proficiency
                          end
                          if (#survival-proficiency.checked) and (#survival-expertise.checked)
                            set #survival-check.textContent to modifier + (proficiency * 2)
                          end
                        end
                      end">
                &#43;
              </button>
            </span>
        </label>
      
        <label for="wisdom-modifier">
            Mod
            <span class="chip">
              <button class="roller" popovertarget="dice-roller" popoveraction="show" _="on click set modifier to #wisdom-modifier.textContent
                      set sign to '+' if modifier is less than 0 set sign to '-' end
                      set #dice-input's value to 'd20' + sign + Math.abs(modifier)
                      send click to the last <button/> in #dice-roller">
                <output id="wisdom-modifier" name="wisdom-modifier">+0</output>
              </button>
              <input id="wisdom-modifier-proficiency" class="switch" type="checkbox"
                name="wisdom-modifier-proficiency" 
                _="on input 
                    set modifier to #wisdom-modifier.textContent as an Int
                    set total to modifier
                    set proficiency to #proficiency-bonus.textContent as an Int
                    if #wisdom-modifier-proficiency.checked set total to modifier + proficiency end
                    if not #wisdom-modifier-proficiency.checked set total to modifier - proficiency end
                    set sign to '+' if total is less than 0 set sign to '-' end
                    set #wisdom-modifier.textContent to sign + Math.abs(total)" />
            </span>
        </label>
          
        <label for="wisdom-save">
            Save
            <span class="chip">
              <button class="roller" popovertarget="dice-roller" popoveraction="show" _="on click set modifier to #wisdom-save.textContent
                      set sign to '+' if modifier is less than 0 set sign to '-' end
                      set #dice-input's value to 'd20' + sign + Math.abs(modifier)
                      send click to the last <button/> in #dice-roller">
                <output id="wisdom-save" name="wisdom-save">+0</output>
              </button>
              <input id="wisdom-save-proficiency" class="switch" type="checkbox" name="wisdom-save-proficiency" _="on input set modifier to #wisdom-save.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #wisdom-save-proficiency.checked set total to modifier + proficiency end
                      if not #wisdom-save-proficiency.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #wisdom-save.textContent to sign + Math.abs(total)" />
            </span>
        </label>
    </div>

    <div class="flex-row">
        <label for="animal-handling-check">
            Animal Handling
            <span class="chip">
              <button class="roller" popovertarget="dice-roller" popoveraction="show" _="on click set modifier to #wisdom-check.textContent
                  set sign to '+' if modifier is less than 0 set sign to '-' end
                  set #dice-input's value to 'd20' + sign + Math.abs(modifier)
                  send click to the last <button/> in #dice-roller">
                <output id="animal-handling-check" name="animal-handling-check">+0</output>
                </button>
                <input id="animal-handling-proficiency" class="switch" type="checkbox" name="animal-handling-proficiency" _="on input set modifier to #animal-handling-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #animal-handling-proficiency.checked set total to modifier + proficiency end
                      if not #animal-handling-proficiency.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #animal-handling-check.textContent to sign + Math.abs(total)" />
                <input id="animal-handling-expertise" class="switch" type="checkbox" name="animal-handling-expertise" _="on input set modifier to #animal-handling-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #animal-handling-expertise.checked set total to modifier + proficiency end
                      if not #animal-handling-expertise.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #animal-handling-check.textContent to sign + Math.abs(total)" />
            </span>
        </label>
        
        <label for="insight-check">
            Insight
            <span class="chip">
              <button class="roller" popovertarget="dice-roller" popoveraction="show" _="on click set modifier to #wisdom-check.textContent
                  set sign to '+' if modifier is less than 0 set sign to '-' end
                  set #dice-input's value to 'd20' + sign + Math.abs(modifier)
                  send click to the last <button/> in #dice-roller">
                <output id="insight-check" name="insight-check">+0</output>
              </button>
              <input id="insight-proficiency" class="switch" type="checkbox" name="insight-proficiency" _="on input set modifier to #insight-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #insight-proficiency.checked set total to modifier + proficiency end
                      if not #insight-proficiency.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #insight-check.textContent to sign + Math.abs(total)" />
              <input id="insight-expertise" class="switch" type="checkbox" name="insight-expertise" _="on input set modifier to #insight-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #insight-expertise.checked set total to modifier + proficiency end
                      if not #insight-expertise.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #insight-check.textContent to sign + Math.abs(total)" />
            </span>
        </label>
      </div class="flex-row">

      <div class="flex-row">
        <label for="medicine-check">
            Medicine
            <span class="chip">
              <button class="roller" popovertarget="dice-roller" popoveraction="show" _="on click set modifier to #wisdom-check.textContent
                  set sign to '+' if modifier is less than 0 set sign to '-' end
                  set #dice-input's value to 'd20' + sign + Math.abs(modifier)
                  send click to the last <button/> in #dice-roller">
                <output id="medicine-check" name="medicine-check">+0</output>
              </button>
              <input id="medicine-proficiency" class="switch" type="checkbox" name="medicine-proficiency" _="on input set modifier to #medicine-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #medicine-proficiency.checked set total to modifier + proficiency end
                      if not #medicine-proficiency.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #medicine-check.textContent to sign + Math.abs(total)" />
              <input id="medicine-expertise" class="switch" type="checkbox" name="medicine-expertise" _="on input set modifier to #medicine-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #medicine-expertise.checked set total to modifier + proficiency end
                      if not #medicine-expertise.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #medicine-check.textContent to sign + Math.abs(total)" />
            </span>
        </label>
        
        <label for="perception-check">
            Perception
            <span class="chip">
              <button class="roller" popovertarget="dice-roller" popoveraction="show" _="on click set modifier to #wisdom-check.textContent
                  set sign to '+' if modifier is less than 0 set sign to '-' end
                  set #dice-input's value to 'd20' + sign + Math.abs(modifier)
                  send click to the last <button/> in #dice-roller">
                <output id="perception-check" name="perception-check">+0</output>
              </button>
              <input id="perception-proficiency" class="switch" type="checkbox" name="perception-proficiency" _="on input set modifier to #perception-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #perception-proficiency.checked set total to modifier + proficiency end
                      if not #perception-proficiency.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #perception-check.textContent to sign + Math.abs(total)" />
              <input id="perception-expertise" class="switch" type="checkbox" name="perception-expertise" _="on input set modifier to #perception-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #perception-expertise.checked set total to modifier + proficiency end
                      if not #perception-expertise.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #perception-check.textContent to sign + Math.abs(total)" />
            </span>
        </label>

      </div>
      <div class="flex-row">
        <label for="survival-check">
            Survival
            <span class="chip">
              <button class="roller" popovertarget="dice-roller" popoveraction="show" _="on click set modifier to #wisdom-check.textContent
                  set sign to '+' if modifier is less than 0 set sign to '-' end
                  set #dice-input's value to 'd20' + sign + Math.abs(modifier)
                  send click to the last <button/> in #dice-roller">
                <output id="survival-check" name="survival-check">+0</output>
              </button>
              <input id="survival-proficiency" class="switch" type="checkbox" name="survival-proficiency" _="on input set modifier to #survival-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #survival-proficiency.checked set total to modifier + proficiency end
                      if not #survival-proficiency.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #survival-check.textContent to sign + Math.abs(total)" />
              <input id="survival-expertise" class="switch" type="checkbox" name="survival-expertise" _="on input set modifier to #survival-check.textContent as an Int
                      set total to modifier
                      set proficiency to #proficiency-bonus.textContent as an Int
                      if #survival-expertise.checked set total to modifier + proficiency end
                      if not #survival-expertise.checked set total to modifier - proficiency end
                      set sign to '+' if total is less than 0 set sign to '-' end
                      set #survival-check.textContent to sign + Math.abs(total)" />
            </span>
        </label>
    </div>
</div>